{"ast":null,"code":"import fetch from 'isomorphic-fetch'; // export function getPosts() {\n//   return fetch('https://jsonplaceholder.typicode.com/posts')\n// }\n\nexport default ((req, res) => {\n  let posts = fetch('https://jsonplaceholder.typicode.com/posts').then(function (response) {\n    if (response.status >= 400) {\n      throw new Error(\"Bad response from server\");\n    }\n\n    return response.json();\n  }).then(function (stories) {\n    console.log(stories);\n  });\n  res.status(200).json(posts);\n});","map":{"version":3,"sources":["/Users/duncan/Development/Repos/next-learn-demo/7.2-api-routes/pages/api/posts.js"],"names":["fetch","req","res","posts","then","response","status","Error","json","stories","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,kBAAlB,C,CAEA;AACA;AACA;;AAIA,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAC3B,MAAIC,KAAK,GAAGH,KAAK,CAAC,4CAAD,CAAL,CACTI,IADS,CACJ,UAASC,QAAT,EAAmB;AACrB,QAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;AACxB,YAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;AACH;;AACD,WAAOF,QAAQ,CAACG,IAAT,EAAP;AACH,GANS,EAOTJ,IAPS,CAOJ,UAASK,OAAT,EAAkB;AACpBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACH,GATS,CAAZ;AAUAP,EAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqBL,KAArB;AACD,CAZD","sourcesContent":["import fetch from 'isomorphic-fetch'\n\n// export function getPosts() {\n//   return fetch('https://jsonplaceholder.typicode.com/posts')\n// }\n\n\n\nexport default (req, res) => {\n  let posts = fetch('https://jsonplaceholder.typicode.com/posts')\n    .then(function(response) {\n        if (response.status >= 400) {\n            throw new Error(\"Bad response from server\");\n        }\n        return response.json();\n    })\n    .then(function(stories) {\n        console.log(stories);\n    });\n  res.status(200).json(posts)\n}"]},"metadata":{},"sourceType":"module"}