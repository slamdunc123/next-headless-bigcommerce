{"ast":null,"code":"import fetch from 'isomorphic-fetch'; // export function getPosts() {\n//   return fetch('https://jsonplaceholder.typicode.com/posts')\n// }\n// let posts = [\n//   {\n//     id: 1\n//   },\n//   {\n//     id: 2\n//   }\n// ]\n// let posts = fetch('https://jsonplaceholder.typicode.com/posts')\n//   .then(function(response) {\n//       if (response.status >= 400) {\n//           throw new Error(\"Bad response from server\");\n//       }\n//       return response.json();\n//   })\n//   .then(function(stories) {\n//       console.log(stories);\n//   });\n\nexport default ((req, res) => {\n  let posts = fetch('https://jsonplaceholder.typicode.com/posts') // .then(res => {\n  //     // if (response.status >= 400) {\n  //     //     throw new Error(\"Bad response from server\");\n  //     // }\n  //     return response.json();\n  // })\n  .then(response => response.json()).then(data => {\n    return posts = data;\n  });\n  res.status(200).json(posts);\n});","map":{"version":3,"sources":["/Users/duncan/Development/Repos/next-learn-demo/7.2-api-routes/pages/api/posts.js"],"names":["fetch","req","res","posts","then","response","json","data","status"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,kBAAlB,C,CAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGC;AACC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAOF,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AAE3B,MAAIC,KAAK,GAAGH,KAAK,CAAC,4CAAD,CAAL,CACV;AACA;AACA;AACA;AACA;AACA;AANU,GAQTI,IARS,CAQJC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EARR,EASXF,IATW,CASNG,IAAI,IAAI;AACZ,WAAOJ,KAAK,GAAGI,IAAf;AACD,GAXW,CAAZ;AAaAL,EAAAA,GAAG,CAACM,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqBH,KAArB;AACD,CAhBD","sourcesContent":["import fetch from 'isomorphic-fetch'\n\n// export function getPosts() {\n//   return fetch('https://jsonplaceholder.typicode.com/posts')\n// }\n\n// let posts = [\n//   {\n//     id: 1\n//   },\n//   {\n//     id: 2\n//   }\n// ]\n\n\n // let posts = fetch('https://jsonplaceholder.typicode.com/posts')\n  //   .then(function(response) {\n  //       if (response.status >= 400) {\n  //           throw new Error(\"Bad response from server\");\n  //       }\n  //       return response.json();\n  //   })\n  //   .then(function(stories) {\n  //       console.log(stories);\n  //   });\n\n \n   \n\n\n\nexport default (req, res) => {\n\n  let posts = fetch('https://jsonplaceholder.typicode.com/posts')\n    // .then(res => {\n    //     // if (response.status >= 400) {\n    //     //     throw new Error(\"Bad response from server\");\n    //     // }\n    //     return response.json();\n    // })\n\n    .then(response => response.json())\n  .then(data => {\n    return posts = data\n  })\n \n  res.status(200).json(posts)\n}"]},"metadata":{},"sourceType":"module"}