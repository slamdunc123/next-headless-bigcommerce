{"ast":null,"code":"import fetch from 'isomorphic-fetch'; // export function getPosts() {\n//   return fetch('https://jsonplaceholder.typicode.com/posts')\n// }\n\nlet posts = fetch('https://jsonplaceholder.typicode.com/posts').then(function (response) {\n  if (response.status >= 400) {\n    throw new Error(\"Bad response from server\");\n  }\n\n  return response.json();\n}).then(function (stories) {\n  console.log(stories);\n});\nexport default ((req, res) => {\n  res.status(200).json(posts);\n});","map":{"version":3,"sources":["/Users/duncan/Development/Repos/next-learn-demo/7.2-api-routes/pages/api/posts.js"],"names":["fetch","posts","then","response","status","Error","json","stories","console","log","req","res"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,kBAAlB,C,CAEA;AACA;AACA;;AAEA,IAAIC,KAAK,GAAGD,KAAK,CAAC,4CAAD,CAAL,CACPE,IADO,CACF,UAASC,QAAT,EAAmB;AACrB,MAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;AACxB,UAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;AACH;;AACD,SAAOF,QAAQ,CAACG,IAAT,EAAP;AACH,CANO,EAOPJ,IAPO,CAOF,UAASK,OAAT,EAAkB;AACpBC,EAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACH,CATO,CAAZ;AAWA,gBAAe,CAACG,GAAD,EAAMC,GAAN,KAAc;AAC3BA,EAAAA,GAAG,CAACP,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqBL,KAArB;AACD,CAFD","sourcesContent":["import fetch from 'isomorphic-fetch'\n\n// export function getPosts() {\n//   return fetch('https://jsonplaceholder.typicode.com/posts')\n// }\n\nlet posts = fetch('https://jsonplaceholder.typicode.com/posts')\n    .then(function(response) {\n        if (response.status >= 400) {\n            throw new Error(\"Bad response from server\");\n        }\n        return response.json();\n    })\n    .then(function(stories) {\n        console.log(stories);\n    });\n\nexport default (req, res) => {\n  res.status(200).json(posts)\n}"]},"metadata":{},"sourceType":"module"}